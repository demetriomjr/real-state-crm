## 1. ✅ Funcionalidades

- Cadastro e login de usuários
- Permissões por tenant: usuário master gerencia usuários; demais têm acesso total exceto gestão de usuários
- Cadastro de pessoas (unifica lead/cliente)
- Diagrama de estados da Entidade (Pessoa)
- Integração com WhatsApp (P1)
- Análise de mensagens com IA (P1)
- Feedbacks da interface (mensagens de erro, sucesso, redirecionamentos)
- Campos de auditoria e logging
- Integração com:
    - Google Calendar (P1)
    - WhatsApp (P1)
    - IA (P1 — análise de chat, prompts automatizados)

---

## 2. Estado e transições (MVP)
- Pessoa: "Novo" → "Em contato" → "Agendado" → "Arquivado" (ver detalhes em [1.2.Entities.md](1.2.Entities.md) — Diagrama de estados).
- Agendamento (P1): "Ativo"/"Cancelado"; criar agenda força Pessoa = "Agendado"; cancelar volta Pessoa = "Em contato". No P0, alteração pode ser manual.
- Perfil derivado: criação do primeiro Pedido em Simulação marca a Pessoa como “Cliente”.

---

## 3. Prioridade P1 (se couber nesta fase)
- Integração WhatsApp (envio/recebimento via provedor API) com timeline por pessoa.
- Análise de mensagens com IA: resumo e próximos passos sugeridos.
- Integração Google Calendar: criar/atualizar evento de atendimento/visita.
- Tags e origem.
- Campo customizável por tenant (mínimo viável).

---

## 4. Critérios de Aceite (recorte P0)
- Usuário consegue criar conta e acessar em < 1 min com mensagens de erro claras.
- Dados segregados por tenant; usuário não acessa dados de outro tenant.
- Pessoa pode ser criada/editada/listada; status e notas persistem corretamente.
- UI apresenta toasts/snackbars e loaders adequados em operações remotas.
- Permissões: somente o usuário master pode cadastrar/gerenciar usuários; demais usuários têm acesso total às funcionalidades de negócio.

---

## 5. Notas Técnicas
- UI: React + Material UI (Free), mobile-first, componentes de formulário e feedback (Snackbar/Alert/Skeleton).
- Backend: Node.js, autenticação com JWT, hash de senha (bcrypt), rate limiting e CORS.
- Integrações: WhatsApp Cloud API (Meta), Google Calendar API; webhooks para mensagens recebidas.
- IA: camada de serviço com contrato estável (definição será adicionada em fase posterior).
- Observabilidade: logs estruturados com correlação por tenantId e personId; evitar PII em logs.

---

## 6. Referências internas
- Parâmetros de contexto (leituras obrigatórias): [0.1.parameter-context.md](0.1.parameter-context.md)
- Sumário da documentação: [0.0.SUMMARY.md](0.0.SUMMARY.md)

---

[← Voltar ao Sumário](0.0.SUMMARY.md)